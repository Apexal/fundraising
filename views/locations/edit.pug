extends /layout

block content
    .row
        .col-xs-12
            .page-header
                h1 Edit 
                    b Location #{location.name}
    .row
        .col-xs-12
            form.form(method="POST")
                .form-group
                    label(for="edit-location-name") Location Name
                    input.form-control#edit-location-name(name="name", type="text", value=location.name, maxlength="100", required)
                .form-group
                    label(for="edit-location-address") Location Address
                    input.form-control#edit-location-address(type="text", name="address", value=location.address, required)
                .form-group
                    label(for="edit-location-link")
                        +icon("link", "Location Website")
                        small.text-muted  (Optional)
                    input.form-control#edit-location-link(name="link", type="text", maxlength="50", value=location.link, placeholder="Does this location have a website?")
                .form-group
                    label(for="edit-location-img-url")
                        +icon("image", "Location Image Link")
                        small.text-muted  (Optional)
                    input.form-control#edit-location-img-url(name="imageUrl", type="text", maxlength="500", value=location.imageUrl, placeholder="Link to image for location.")
                    img.thumbnail#preview.location-image(alt="Loading image...")
                .form-group
                    label(for="edit-location-description") Location Description
                        small.text-muted  (Optional)
                    textarea.form-control#edit-location-description(name="description", placeholder="Add any important information here!", rows="5")= location.description
                button.btn.btn-primary Save Location

    script.
        var previewImg = $("#preview");
        var input = $("#edit-location-img-url");

        var update = function () {
            previewImg.attr("src", input.val());
        };
        input.keyup(update);
        update();
