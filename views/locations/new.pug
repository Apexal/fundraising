extends /layout

block content
    .row
        .col-xs-12
            .page-header
                h1 New Location
    .row
        .col-xs-12
            form.from.new-location-form(action="/locations/new", method="POST")
                .form-group
                    label(for="new-location-name") Location Name
                    input.form-control#new-location-name(name="name", type="text", maxlength="75", required)
                .form-group
                    label(for="new-location-address") Location Address
                    input.form-control#new-location-address(name="address", type="text", maxlength="200", required)
                .form-group
                    label(for="new-location-link")
                        +icon("link", "Location Website")
                        small.text-muted  (Optional)
                    input.form-control#new-location-link(name="link", type="text", maxlength="50", placeholder="Does this location have a website?")
                .form-group
                    label(for="new-location-img-url")
                        +icon("image", "Location Image Link")
                        small.text-muted  (Optional)
                    input.form-control#new-location-img-url(name="imageUrl", type="text", maxlength="500", placeholder="Link to image for location.")
                    img.thumbnail#preview.location-image(alt="Loading image...")

                .form-group
                    label(for="new-location-description") Location Description
                        small.text-muted  (Optional)
                    textarea.form-control#new-location-description(name="description", maxlength="650", placeholder="Add any important information here.", rows="5")

                hr
                button.btn.btn-success.right Add Location
    
    script.
        var previewImg = $("#preview");
        var input = $("#new-location-img-url");

        var update = function () {
            previewImg.attr("src", input.val());
        };
        input.keyup(update);
        update();
