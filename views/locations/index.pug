extends /layout

block content
    .row
        .col-xs-12
            .jumbotron.clearfix
                h1 Locations
                    small.right #{locations.length} total
                p= helpers.getHelpInfo('locations')
                a.btn.btn-primary.right(href="#locations") All Locations
        hr
    if user.admin
        include addlocation

    .row
        .col-xs-12
            .page-header
                h1 Active Locations
                    +help('active-locations')
                    small.right #{activeLocations.length} total
        
        if activeLocations.length > 0
            each l in activeLocations
                .col-xs-12.col-md-6.col-lg-4
                    .panel.panel-primary
                        .panel-heading
                            h1.panel-title= l.name
                        .panel-body
                            b Address 
                            span= l.address
                            a.btn.btn-primary.right(href="/locations/" + l._id) View Details
                            hr
                            if l.description
                                blockquote
                                    p= l.description
                            else
                                p.text-muted No description given.
                        .panel-footer
                            span.text-muted Has ongoing camp(s).
        else
            p.text-muted.text-center There are no #[b active locations].

    .row#locations
        .col-xs-12
            .page-header
                h2 Inactive Locations
                    +help('inactive-locations')
                    small.right #{inactiveLocations.length} total
        .col-xs-12
            if inactiveLocations.length > 0
                table.table
                    thead
                        tr
                            th Name
                            th Address
                            th Description
                    tbody
                        each l in locations
                            tr
                                td= l.name
                                td= l.address
                                if l.description
                                    td= helpers.limit(l.description, 50)
                                else
                                    td.text-muted No description given.
                                td
                                    a.btn.btn-default(href="/locations/" + l._id) View Details
            else
                p.text-muted.text-center There are no #[b locations].