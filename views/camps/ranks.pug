mixin media(u)
    .media
        .media-left
            a(href="/users/" + u.email)
                img(src="/images/" + u.profileImageName, alt=u.name.first + "'s profile picture.'", title=u.name.full)
        .media-body
            h4.media-heading= u.name.full
                if u.id == user.id
                    b  (You)
            a(href="mailto:" + u.email)= u.email

.col-xs-12.col-lg-5.camp-ranks
    if !camp.ready
        .alert.alert-warning
            b MISSING RANKS
            span  Make sure all ranks below are assigned.

    .panel.panel-danger.ambassador-panel
        .panel-heading
            if camp.active
                if !camp.ambassador
                    if !helpers.rank(activeInvolvements, camp)
                        a.badge.right(href="?assign=ambassador", onclick="return confirm('Are you sure you want to become Ambassador?')") Assign
                else if camp.ambassador._id == user._id
                    a.badge.right(href="?unassign=ambassador", onclick="return confirm('Are you sure you want to be Ambassador?')") Unassign
            h1.panel-title 
                +help('ambassador')
                | Ambassador
        ol.list-group
            if camp.ambassador
                +media(camp.ambassador)
            else
                span.list-group-item.text-muted No Ambassador has been assigned yet.

    .panel.panel-success.director-panel
        .panel-heading
            if camp.active
                if !camp.director
                    if !helpers.rank(activeInvolvements, camp)
                        a.badge.right(href="?assign=director", onclick="return confirm('Are you sure you want to become Program Director?')") Assign
                else if camp.director._id == user._id
                    a.badge.right(href="?unassign=director", onclick="return confirm('Are you sure you want to no longer be Program Director?')") Unassign
            h1.panel-title
                +help('director')
                | Program Director

        ol.list-group
            if camp.director
                +media(camp.director)
            else
                span.list-group-item.text-muted No Director has been assigned yet.

    .panel.panel-info.teachers-panel
        .panel-heading
            
            if camp.active
                if helpers.isTeacher(camp, user) 
                    a.badge.right(href="?unassign=teacher", onclick="return confirm('Are you sure you want to no longer be a Teacher?')") Leave
                else if !helpers.rank(activeInvolvements, camp)
                    a.badge.right(href="?assign=teacher", onclick="return confirm('Are you sure you want to become a Teacher?')") Join
            h1.panel-title
                +help('teachers')
                | Teachers  
                span.text-muted= camp.teachers.length + ' total '

        ol.list-group
            if camp.teachers.length == 0
                span.list-group-item.text-muted There are no Teachers assigned yet.
            else
                each t in camp.teachers
                    +media(t)