extends /layout

mixin unverified(user)
    .col-xs-12.col-md-6
        .panel.panel-default
            .panel-heading
                h1.panel-title= user.name.full
                    span.text-muted.right(title=moment(user.registeredDate).format("dddd, MMMM Do YYYY, h:mm a"))= "registered " + moment(user.registeredDate).fromNow()
            .panel-body
                form.form(method="POST", action="/administration/verify/" + user._id)
                    .form-group
                        label Email
                        input.form-control.disabled(type="text", value=user.email, disabled)
                    .form-group
                        label Rank
                        select.form-control(name="rank")
                            option(value=0) Teacher
                            option(value=1) Program Director
                            option(value=2) Ambassador
                    button.btn.btn-default.right Verify
                    button.btn.btn-danger Delete
block content
    .row
        .col-xs-12
            .page-header
                h1 Unverified Users
                    small.right #{unverifiedUsers.length} pending
                blockquote
                    p New users that login are restricted from doing anything until an #[b Administrator] verifies them and sets their rank for them here.
    .row
        if unverifiedUsers.length > 0
            each u in unverifiedUsers
                +unverified(u)
        else
            p.text-muted.text-center There are no pending unverified users.